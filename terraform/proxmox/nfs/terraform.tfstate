{
  "version": 4,
  "terraform_version": "1.10.5",
  "serial": 1228,
  "lineage": "e8572e6f-e794-7df6-00ce-bde5042514a6",
  "outputs": {},
  "resources": [
    {
      "module": "module.vms",
      "mode": "data",
      "type": "template_file",
      "name": "cloud_init",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "index_key": "master-0",
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "560706e7593405d6de93358b09fcb211552d18bf2997986fe7cdbbd886cefc35",
            "rendered": "#cloud-config\r\n\r\npackage_update: true\r\npackage_upgrade: true\r\npackages:\r\n  - qemu-guest-agent\r\n  - apt-transport-https\r\n  - ca-certificates\r\n  - curl\r\n  - gnupg\r\n  - lsb-release\r\n  - docker.io\r\n\r\nwrite_files:\r\n  - path: /etc/docker/daemon.json\r\n    content: |\r\n      {\r\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\r\n        \"log-driver\": \"json-file\",\r\n        \"log-opts\": {\r\n          \"max-size\": \"100m\"\r\n        },\r\n        \"storage-driver\": \"overlay2\"\r\n      }\r\n    permissions: '0644'\r\n  - path: /etc/crictl.yaml\r\n    content: |\r\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\r\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\r\n    permissions: '0644'\r\n  - path: /etc/containerd/config.toml\r\n    content: |\r\n      version = 2\r\n      [plugins]\r\n        [plugins.\"io.containerd.grpc.v1.cri\"]\r\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\r\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\r\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\r\n                runtime_type = \"io.containerd.runc.v2\"\r\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\r\n                  SystemdCgroup = true\r\n    permissions: '0644'\r\n\r\nusers:\r\n  - name: \"root\"\r\n    hashed_passwd: \"$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.\"\r\n    lock_passwd: false\r\n    groups: [ sudo ]\r\n    shell: \"/bin/bash\"\r\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\r\n    ssh_authorized_keys:\r\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n\r\n\r\nruncmd:\r\n  - hostnamectl set-hostname master-0\r\n  - systemctl start qemu-guest-agent\r\n  - systemctl enable docker\r\n  - systemctl start docker\r\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\r\n  - mkdir -p -m 755 /etc/apt/keyrings\r\n  - curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\r\n  - echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\r\n  - apt-get update\r\n  - apt-get install -y kubelet kubeadm kubectl\r\n  - curl -L https://github.com/projectcalico/calico/releases/download/v3.29.1/calicoctl-linux-amd64 -o /usr/local/bin/calicoctl\r\n  - chmod +x /usr/local/bin/calicoctl\r\n  - kubeadm init --pod-network-cidr=192.168.0.0/16\r\n  - export KUBECONFIG=/etc/kubernetes/admin.conf\r\n  - kubectl apply -f https://docs.projectcalico.org/manifests/calico.yaml\r\n  - mkdir -p /root/.kube\r\n  - cp /etc/kubernetes/admin.conf /root/.kube/config\r\n  - chown $(id -u):$(id -g) /root/.kube/config\r\n  - kubeadm token create --ttl 0 --print-join-command \u003e /joincluster.sh\r\n  - reboot\r\n",
            "template": "#cloud-config\r\n\r\npackage_update: true\r\npackage_upgrade: true\r\npackages:\r\n  - qemu-guest-agent\r\n  - apt-transport-https\r\n  - ca-certificates\r\n  - curl\r\n  - gnupg\r\n  - lsb-release\r\n  - docker.io\r\n\r\nwrite_files:\r\n  - path: /etc/docker/daemon.json\r\n    content: |\r\n      {\r\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\r\n        \"log-driver\": \"json-file\",\r\n        \"log-opts\": {\r\n          \"max-size\": \"100m\"\r\n        },\r\n        \"storage-driver\": \"overlay2\"\r\n      }\r\n    permissions: '0644'\r\n  - path: /etc/crictl.yaml\r\n    content: |\r\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\r\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\r\n    permissions: '0644'\r\n  - path: /etc/containerd/config.toml\r\n    content: |\r\n      version = 2\r\n      [plugins]\r\n        [plugins.\"io.containerd.grpc.v1.cri\"]\r\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\r\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\r\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\r\n                runtime_type = \"io.containerd.runc.v2\"\r\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\r\n                  SystemdCgroup = true\r\n    permissions: '0644'\r\n\r\nusers:\r\n  - name: \"root\"\r\n    hashed_passwd: \"${root_password}\"\r\n    lock_passwd: false\r\n    groups: [ sudo ]\r\n    shell: \"/bin/bash\"\r\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\r\n    ssh_authorized_keys:\r\n      - ${admin_ssh_key}\r\n\r\nruncmd:\r\n  - hostnamectl set-hostname ${hostname}\r\n  - systemctl start qemu-guest-agent\r\n  - systemctl enable docker\r\n  - systemctl start docker\r\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\r\n  - mkdir -p -m 755 /etc/apt/keyrings\r\n  - curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\r\n  - echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\r\n  - apt-get update\r\n  - apt-get install -y kubelet kubeadm kubectl\r\n  - curl -L https://github.com/projectcalico/calico/releases/download/v3.29.1/calicoctl-linux-amd64 -o /usr/local/bin/calicoctl\r\n  - chmod +x /usr/local/bin/calicoctl\r\n  - kubeadm init --pod-network-cidr=192.168.0.0/16\r\n  - export KUBECONFIG=/etc/kubernetes/admin.conf\r\n  - kubectl apply -f https://docs.projectcalico.org/manifests/calico.yaml\r\n  - mkdir -p /root/.kube\r\n  - cp /etc/kubernetes/admin.conf /root/.kube/config\r\n  - chown $(id -u):$(id -g) /root/.kube/config\r\n  - kubeadm token create --ttl 0 --print-join-command \u003e /joincluster.sh\r\n  - reboot\r\n",
            "vars": {
              "admin_ssh_key": "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n",
              "hostname": "master-0",
              "k8s_master_node_ip": "192.168.0.30",
              "root_password": "$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.",
              "root_ssh_key": "-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW\nQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9NwAAAJAb1g0eG9YN\nHgAAAAtzc2gtZWQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9Nw\nAAAEAiV5xpCJZyzly1Abcz8nW/yHfqJEMOgu0Q5Dbt+OBfYspcsjWM2kGvpnoxiUF0wH5d\nePYHD46VFp2dNiheXH03AAAACHJvb3RAcHZlAQIDBAU=\n-----END OPENSSH PRIVATE KEY-----\n"
            }
          },
          "sensitive_attributes": []
        },
        {
          "index_key": "nfs-0",
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "8b580a20f19ad6b7c941b86c24fb5815f2aa8656d9eefc80c06715ceb1e6371e",
            "rendered": "#cloud-config\n\npackage_update: true\npackage_upgrade: true\npackages:\n  - qemu-guest-agent\n  - apt-transport-https\n  - ca-certificates\n  - curl\n  - gnupg\n  - lsb-release\n  - docker.io\n\nwrite_files:\n  - path: /etc/docker/daemon.json\n    permissions: '0644'\n    content: |\n      {\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\n        \"log-driver\": \"json-file\",\n        \"log-opts\": {\n          \"max-size\": \"100m\"\n        },\n        \"storage-driver\": \"overlay2\"\n      }\n  - path: /root/.ssh/id_ed25519\n    permissions: '0600'\n    content: |\n      -----BEGIN OPENSSH PRIVATE KEY-----\n      b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW\n      QyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9NwAAAJAb1g0eG9YN\n      HgAAAAtzc2gtZWQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9Nw\n      AAAEAiV5xpCJZyzly1Abcz8nW/yHfqJEMOgu0Q5Dbt+OBfYspcsjWM2kGvpnoxiUF0wH5d\n      ePYHD46VFp2dNiheXH03AAAACHJvb3RAcHZlAQIDBAU=\n      -----END OPENSSH PRIVATE KEY-----\n      \n  - path: /etc/crictl.yaml\n    content: |\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\n    permissions: '0644'\n  - path: /etc/containerd/config.toml\n    content: |\n      version = 2\n      [plugins]\n        [plugins.\"io.containerd.grpc.v1.cri\"]\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n                runtime_type = \"io.containerd.runc.v2\"\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n                  SystemdCgroup = true\n    permissions: '0644'\n\nusers:\n  - name: \"root\"\n    hashed_passwd: \"$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.\"\n    lock_passwd: false\n    groups: [ sudo ]\n    shell: \"/bin/bash\"\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n\n\nruncmd:\n  - hostnamectl set-hostname nfs-0\n  - systemctl start qemu-guest-agent\n  - systemctl enable docker\n  - systemctl start docker\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n  - mkdir -p -m 755 /etc/apt/keyrings\n  - reboot\n",
            "template": "#cloud-config\n\npackage_update: true\npackage_upgrade: true\npackages:\n  - qemu-guest-agent\n  - apt-transport-https\n  - ca-certificates\n  - curl\n  - gnupg\n  - lsb-release\n  - docker.io\n\nwrite_files:\n  - path: /etc/docker/daemon.json\n    permissions: '0644'\n    content: |\n      {\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\n        \"log-driver\": \"json-file\",\n        \"log-opts\": {\n          \"max-size\": \"100m\"\n        },\n        \"storage-driver\": \"overlay2\"\n      }\n  - path: /root/.ssh/id_ed25519\n    permissions: '0600'\n    content: |\n      ${replace(root_ssh_key, \"\\n\", \"\\n      \")}\n  - path: /etc/crictl.yaml\n    content: |\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\n    permissions: '0644'\n  - path: /etc/containerd/config.toml\n    content: |\n      version = 2\n      [plugins]\n        [plugins.\"io.containerd.grpc.v1.cri\"]\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n                runtime_type = \"io.containerd.runc.v2\"\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n                  SystemdCgroup = true\n    permissions: '0644'\n\nusers:\n  - name: \"root\"\n    hashed_passwd: \"${root_password}\"\n    lock_passwd: false\n    groups: [ sudo ]\n    shell: \"/bin/bash\"\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\n    ssh_authorized_keys:\n      - ${admin_ssh_key}\n\nruncmd:\n  - hostnamectl set-hostname ${hostname}\n  - systemctl start qemu-guest-agent\n  - systemctl enable docker\n  - systemctl start docker\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n  - mkdir -p -m 755 /etc/apt/keyrings\n  - reboot\n",
            "vars": {
              "admin_ssh_key": "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n",
              "hostname": "nfs-0",
              "k8s_master_node_ip": "192.168.0.30",
              "root_password": "$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.",
              "root_ssh_key": "-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW\nQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9NwAAAJAb1g0eG9YN\nHgAAAAtzc2gtZWQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9Nw\nAAAEAiV5xpCJZyzly1Abcz8nW/yHfqJEMOgu0Q5Dbt+OBfYspcsjWM2kGvpnoxiUF0wH5d\nePYHD46VFp2dNiheXH03AAAACHJvb3RAcHZlAQIDBAU=\n-----END OPENSSH PRIVATE KEY-----\n"
            }
          },
          "sensitive_attributes": []
        },
        {
          "index_key": "worker-0",
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "8c9c8f772d991a1a3b099c06fc00f77c4d3c8f77cf3bc39fd310af254ac0f44a",
            "rendered": "#cloud-config\n\npackage_update: true\npackage_upgrade: true\npackages:\n  - qemu-guest-agent\n  - apt-transport-https\n  - ca-certificates\n  - curl\n  - gnupg\n  - lsb-release\n  - docker.io\n\nwrite_files:\n  - path: /etc/docker/daemon.json\n    permissions: '0644'\n    content: |\n      {\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\n        \"log-driver\": \"json-file\",\n        \"log-opts\": {\n          \"max-size\": \"100m\"\n        },\n        \"storage-driver\": \"overlay2\"\n      }\n  - path: /root/.ssh/id_ed25519\n    permissions: '0600'\n    content: |\n      -----BEGIN OPENSSH PRIVATE KEY-----\n      b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW\n      QyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9NwAAAJAb1g0eG9YN\n      HgAAAAtzc2gtZWQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9Nw\n      AAAEAiV5xpCJZyzly1Abcz8nW/yHfqJEMOgu0Q5Dbt+OBfYspcsjWM2kGvpnoxiUF0wH5d\n      ePYHD46VFp2dNiheXH03AAAACHJvb3RAcHZlAQIDBAU=\n      -----END OPENSSH PRIVATE KEY-----\n      \n  - path: /etc/crictl.yaml\n    content: |\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\n    permissions: '0644'\n  - path: /etc/containerd/config.toml\n    content: |\n      version = 2\n      [plugins]\n        [plugins.\"io.containerd.grpc.v1.cri\"]\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n                runtime_type = \"io.containerd.runc.v2\"\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n                  SystemdCgroup = true\n    permissions: '0644'\n\nusers:\n  - name: \"root\"\n    hashed_passwd: \"$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.\"\n    lock_passwd: false\n    groups: [ sudo ]\n    shell: \"/bin/bash\"\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n\n\nruncmd:\n  - hostnamectl set-hostname worker-0\n  - systemctl start qemu-guest-agent\n  - systemctl enable docker\n  - systemctl start docker\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n  - mkdir -p -m 755 /etc/apt/keyrings\n  - curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\n  - echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\n  - apt-get update\n  - apt-get install -y kubelet kubeadm kubectl\n  - curl -L https://github.com/projectcalico/calico/releases/download/v3.29.1/calicoctl-linux-amd64 -o /usr/local/bin/calicoctl\n  - chmod +x /usr/local/bin/calicoctl\n  - scp -o StrictHostKeyChecking=no -i /root/.ssh/id_ed25519 root@192.168.0.30:/joincluster.sh /joincluster.sh\n  - until [ -f /joincluster.sh ]; do sleep 1; done\n  - bash /joincluster.sh\n  - mkdir -p /root/.kube\n  - cp /etc/kubernetes/kubelet.conf /root/.kube/config\n  - reboot\n",
            "template": "#cloud-config\n\npackage_update: true\npackage_upgrade: true\npackages:\n  - qemu-guest-agent\n  - apt-transport-https\n  - ca-certificates\n  - curl\n  - gnupg\n  - lsb-release\n  - docker.io\n\nwrite_files:\n  - path: /etc/docker/daemon.json\n    permissions: '0644'\n    content: |\n      {\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\n        \"log-driver\": \"json-file\",\n        \"log-opts\": {\n          \"max-size\": \"100m\"\n        },\n        \"storage-driver\": \"overlay2\"\n      }\n  - path: /root/.ssh/id_ed25519\n    permissions: '0600'\n    content: |\n      ${replace(root_ssh_key, \"\\n\", \"\\n      \")}\n  - path: /etc/crictl.yaml\n    content: |\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\n    permissions: '0644'\n  - path: /etc/containerd/config.toml\n    content: |\n      version = 2\n      [plugins]\n        [plugins.\"io.containerd.grpc.v1.cri\"]\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n                runtime_type = \"io.containerd.runc.v2\"\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n                  SystemdCgroup = true\n    permissions: '0644'\n\nusers:\n  - name: \"root\"\n    hashed_passwd: \"${root_password}\"\n    lock_passwd: false\n    groups: [ sudo ]\n    shell: \"/bin/bash\"\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\n    ssh_authorized_keys:\n      - ${admin_ssh_key}\n\nruncmd:\n  - hostnamectl set-hostname ${hostname}\n  - systemctl start qemu-guest-agent\n  - systemctl enable docker\n  - systemctl start docker\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n  - mkdir -p -m 755 /etc/apt/keyrings\n  - curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\n  - echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\n  - apt-get update\n  - apt-get install -y kubelet kubeadm kubectl\n  - curl -L https://github.com/projectcalico/calico/releases/download/v3.29.1/calicoctl-linux-amd64 -o /usr/local/bin/calicoctl\n  - chmod +x /usr/local/bin/calicoctl\n  - scp -o StrictHostKeyChecking=no -i /root/.ssh/id_ed25519 root@${k8s_master_node_ip}:/joincluster.sh /joincluster.sh\n  - until [ -f /joincluster.sh ]; do sleep 1; done\n  - bash /joincluster.sh\n  - mkdir -p /root/.kube\n  - cp /etc/kubernetes/kubelet.conf /root/.kube/config\n  - reboot\n",
            "vars": {
              "admin_ssh_key": "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n",
              "hostname": "worker-0",
              "k8s_master_node_ip": "192.168.0.30",
              "root_password": "$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.",
              "root_ssh_key": "-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW\nQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9NwAAAJAb1g0eG9YN\nHgAAAAtzc2gtZWQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9Nw\nAAAEAiV5xpCJZyzly1Abcz8nW/yHfqJEMOgu0Q5Dbt+OBfYspcsjWM2kGvpnoxiUF0wH5d\nePYHD46VFp2dNiheXH03AAAACHJvb3RAcHZlAQIDBAU=\n-----END OPENSSH PRIVATE KEY-----\n"
            }
          },
          "sensitive_attributes": []
        },
        {
          "index_key": "worker-1",
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "51e9ee99489c617f530a53956e0e932993111389131da0d4581e08bf8f6be9dd",
            "rendered": "#cloud-config\n\npackage_update: true\npackage_upgrade: true\npackages:\n  - qemu-guest-agent\n  - apt-transport-https\n  - ca-certificates\n  - curl\n  - gnupg\n  - lsb-release\n  - docker.io\n\nwrite_files:\n  - path: /etc/docker/daemon.json\n    permissions: '0644'\n    content: |\n      {\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\n        \"log-driver\": \"json-file\",\n        \"log-opts\": {\n          \"max-size\": \"100m\"\n        },\n        \"storage-driver\": \"overlay2\"\n      }\n  - path: /root/.ssh/id_ed25519\n    permissions: '0600'\n    content: |\n      -----BEGIN OPENSSH PRIVATE KEY-----\n      b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW\n      QyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9NwAAAJAb1g0eG9YN\n      HgAAAAtzc2gtZWQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9Nw\n      AAAEAiV5xpCJZyzly1Abcz8nW/yHfqJEMOgu0Q5Dbt+OBfYspcsjWM2kGvpnoxiUF0wH5d\n      ePYHD46VFp2dNiheXH03AAAACHJvb3RAcHZlAQIDBAU=\n      -----END OPENSSH PRIVATE KEY-----\n      \n  - path: /etc/crictl.yaml\n    content: |\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\n    permissions: '0644'\n  - path: /etc/containerd/config.toml\n    content: |\n      version = 2\n      [plugins]\n        [plugins.\"io.containerd.grpc.v1.cri\"]\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n                runtime_type = \"io.containerd.runc.v2\"\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n                  SystemdCgroup = true\n    permissions: '0644'\n\nusers:\n  - name: \"root\"\n    hashed_passwd: \"$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.\"\n    lock_passwd: false\n    groups: [ sudo ]\n    shell: \"/bin/bash\"\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n\n\nruncmd:\n  - hostnamectl set-hostname worker-1\n  - systemctl start qemu-guest-agent\n  - systemctl enable docker\n  - systemctl start docker\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n  - mkdir -p -m 755 /etc/apt/keyrings\n  - curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\n  - echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\n  - apt-get update\n  - apt-get install -y kubelet kubeadm kubectl\n  - curl -L https://github.com/projectcalico/calico/releases/download/v3.29.1/calicoctl-linux-amd64 -o /usr/local/bin/calicoctl\n  - chmod +x /usr/local/bin/calicoctl\n  - scp -o StrictHostKeyChecking=no -i /root/.ssh/id_ed25519 root@192.168.0.30:/joincluster.sh /joincluster.sh\n  - until [ -f /joincluster.sh ]; do sleep 1; done\n  - bash /joincluster.sh\n  - mkdir -p /root/.kube\n  - cp /etc/kubernetes/kubelet.conf /root/.kube/config\n  - reboot\n",
            "template": "#cloud-config\n\npackage_update: true\npackage_upgrade: true\npackages:\n  - qemu-guest-agent\n  - apt-transport-https\n  - ca-certificates\n  - curl\n  - gnupg\n  - lsb-release\n  - docker.io\n\nwrite_files:\n  - path: /etc/docker/daemon.json\n    permissions: '0644'\n    content: |\n      {\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\n        \"log-driver\": \"json-file\",\n        \"log-opts\": {\n          \"max-size\": \"100m\"\n        },\n        \"storage-driver\": \"overlay2\"\n      }\n  - path: /root/.ssh/id_ed25519\n    permissions: '0600'\n    content: |\n      ${replace(root_ssh_key, \"\\n\", \"\\n      \")}\n  - path: /etc/crictl.yaml\n    content: |\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\n    permissions: '0644'\n  - path: /etc/containerd/config.toml\n    content: |\n      version = 2\n      [plugins]\n        [plugins.\"io.containerd.grpc.v1.cri\"]\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n                runtime_type = \"io.containerd.runc.v2\"\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n                  SystemdCgroup = true\n    permissions: '0644'\n\nusers:\n  - name: \"root\"\n    hashed_passwd: \"${root_password}\"\n    lock_passwd: false\n    groups: [ sudo ]\n    shell: \"/bin/bash\"\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\n    ssh_authorized_keys:\n      - ${admin_ssh_key}\n\nruncmd:\n  - hostnamectl set-hostname ${hostname}\n  - systemctl start qemu-guest-agent\n  - systemctl enable docker\n  - systemctl start docker\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n  - mkdir -p -m 755 /etc/apt/keyrings\n  - curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\n  - echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\n  - apt-get update\n  - apt-get install -y kubelet kubeadm kubectl\n  - curl -L https://github.com/projectcalico/calico/releases/download/v3.29.1/calicoctl-linux-amd64 -o /usr/local/bin/calicoctl\n  - chmod +x /usr/local/bin/calicoctl\n  - scp -o StrictHostKeyChecking=no -i /root/.ssh/id_ed25519 root@${k8s_master_node_ip}:/joincluster.sh /joincluster.sh\n  - until [ -f /joincluster.sh ]; do sleep 1; done\n  - bash /joincluster.sh\n  - mkdir -p /root/.kube\n  - cp /etc/kubernetes/kubelet.conf /root/.kube/config\n  - reboot\n",
            "vars": {
              "admin_ssh_key": "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n",
              "hostname": "worker-1",
              "k8s_master_node_ip": "192.168.0.30",
              "root_password": "$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.",
              "root_ssh_key": "-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW\nQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9NwAAAJAb1g0eG9YN\nHgAAAAtzc2gtZWQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9Nw\nAAAEAiV5xpCJZyzly1Abcz8nW/yHfqJEMOgu0Q5Dbt+OBfYspcsjWM2kGvpnoxiUF0wH5d\nePYHD46VFp2dNiheXH03AAAACHJvb3RAcHZlAQIDBAU=\n-----END OPENSSH PRIVATE KEY-----\n"
            }
          },
          "sensitive_attributes": []
        },
        {
          "index_key": "worker-2",
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "399f4f66da208eb2158b6cf997c26de3ad8f1ee1b06676bc76aa40f762521c3a",
            "rendered": "#cloud-config\n\npackage_update: true\npackage_upgrade: true\npackages:\n  - qemu-guest-agent\n  - apt-transport-https\n  - ca-certificates\n  - curl\n  - gnupg\n  - lsb-release\n  - docker.io\n\nwrite_files:\n  - path: /etc/docker/daemon.json\n    permissions: '0644'\n    content: |\n      {\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\n        \"log-driver\": \"json-file\",\n        \"log-opts\": {\n          \"max-size\": \"100m\"\n        },\n        \"storage-driver\": \"overlay2\"\n      }\n  - path: /root/.ssh/id_ed25519\n    permissions: '0600'\n    content: |\n      -----BEGIN OPENSSH PRIVATE KEY-----\n      b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW\n      QyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9NwAAAJAb1g0eG9YN\n      HgAAAAtzc2gtZWQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9Nw\n      AAAEAiV5xpCJZyzly1Abcz8nW/yHfqJEMOgu0Q5Dbt+OBfYspcsjWM2kGvpnoxiUF0wH5d\n      ePYHD46VFp2dNiheXH03AAAACHJvb3RAcHZlAQIDBAU=\n      -----END OPENSSH PRIVATE KEY-----\n      \n  - path: /etc/crictl.yaml\n    content: |\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\n    permissions: '0644'\n  - path: /etc/containerd/config.toml\n    content: |\n      version = 2\n      [plugins]\n        [plugins.\"io.containerd.grpc.v1.cri\"]\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n                runtime_type = \"io.containerd.runc.v2\"\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n                  SystemdCgroup = true\n    permissions: '0644'\n\nusers:\n  - name: \"root\"\n    hashed_passwd: \"$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.\"\n    lock_passwd: false\n    groups: [ sudo ]\n    shell: \"/bin/bash\"\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n\n\nruncmd:\n  - hostnamectl set-hostname worker-2\n  - systemctl start qemu-guest-agent\n  - systemctl enable docker\n  - systemctl start docker\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n  - mkdir -p -m 755 /etc/apt/keyrings\n  - curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\n  - echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\n  - apt-get update\n  - apt-get install -y kubelet kubeadm kubectl\n  - curl -L https://github.com/projectcalico/calico/releases/download/v3.29.1/calicoctl-linux-amd64 -o /usr/local/bin/calicoctl\n  - chmod +x /usr/local/bin/calicoctl\n  - scp -o StrictHostKeyChecking=no -i /root/.ssh/id_ed25519 root@192.168.0.30:/joincluster.sh /joincluster.sh\n  - until [ -f /joincluster.sh ]; do sleep 1; done\n  - bash /joincluster.sh\n  - mkdir -p /root/.kube\n  - cp /etc/kubernetes/kubelet.conf /root/.kube/config\n  - reboot\n",
            "template": "#cloud-config\n\npackage_update: true\npackage_upgrade: true\npackages:\n  - qemu-guest-agent\n  - apt-transport-https\n  - ca-certificates\n  - curl\n  - gnupg\n  - lsb-release\n  - docker.io\n\nwrite_files:\n  - path: /etc/docker/daemon.json\n    permissions: '0644'\n    content: |\n      {\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\n        \"log-driver\": \"json-file\",\n        \"log-opts\": {\n          \"max-size\": \"100m\"\n        },\n        \"storage-driver\": \"overlay2\"\n      }\n  - path: /root/.ssh/id_ed25519\n    permissions: '0600'\n    content: |\n      ${replace(root_ssh_key, \"\\n\", \"\\n      \")}\n  - path: /etc/crictl.yaml\n    content: |\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\n    permissions: '0644'\n  - path: /etc/containerd/config.toml\n    content: |\n      version = 2\n      [plugins]\n        [plugins.\"io.containerd.grpc.v1.cri\"]\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n                runtime_type = \"io.containerd.runc.v2\"\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n                  SystemdCgroup = true\n    permissions: '0644'\n\nusers:\n  - name: \"root\"\n    hashed_passwd: \"${root_password}\"\n    lock_passwd: false\n    groups: [ sudo ]\n    shell: \"/bin/bash\"\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\n    ssh_authorized_keys:\n      - ${admin_ssh_key}\n\nruncmd:\n  - hostnamectl set-hostname ${hostname}\n  - systemctl start qemu-guest-agent\n  - systemctl enable docker\n  - systemctl start docker\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n  - mkdir -p -m 755 /etc/apt/keyrings\n  - curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\n  - echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\n  - apt-get update\n  - apt-get install -y kubelet kubeadm kubectl\n  - curl -L https://github.com/projectcalico/calico/releases/download/v3.29.1/calicoctl-linux-amd64 -o /usr/local/bin/calicoctl\n  - chmod +x /usr/local/bin/calicoctl\n  - scp -o StrictHostKeyChecking=no -i /root/.ssh/id_ed25519 root@${k8s_master_node_ip}:/joincluster.sh /joincluster.sh\n  - until [ -f /joincluster.sh ]; do sleep 1; done\n  - bash /joincluster.sh\n  - mkdir -p /root/.kube\n  - cp /etc/kubernetes/kubelet.conf /root/.kube/config\n  - reboot\n",
            "vars": {
              "admin_ssh_key": "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n",
              "hostname": "worker-2",
              "k8s_master_node_ip": "192.168.0.30",
              "root_password": "$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.",
              "root_ssh_key": "-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW\nQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9NwAAAJAb1g0eG9YN\nHgAAAAtzc2gtZWQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9Nw\nAAAEAiV5xpCJZyzly1Abcz8nW/yHfqJEMOgu0Q5Dbt+OBfYspcsjWM2kGvpnoxiUF0wH5d\nePYHD46VFp2dNiheXH03AAAACHJvb3RAcHZlAQIDBAU=\n-----END OPENSSH PRIVATE KEY-----\n"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.vms",
      "mode": "managed",
      "type": "local_file",
      "name": "cloud_init",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "index_key": "master-0",
          "schema_version": 0,
          "attributes": {
            "content": "#cloud-config\r\n\r\npackage_update: true\r\npackage_upgrade: true\r\npackages:\r\n  - qemu-guest-agent\r\n  - apt-transport-https\r\n  - ca-certificates\r\n  - curl\r\n  - gnupg\r\n  - lsb-release\r\n  - docker.io\r\n\r\nwrite_files:\r\n  - path: /etc/docker/daemon.json\r\n    content: |\r\n      {\r\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\r\n        \"log-driver\": \"json-file\",\r\n        \"log-opts\": {\r\n          \"max-size\": \"100m\"\r\n        },\r\n        \"storage-driver\": \"overlay2\"\r\n      }\r\n    permissions: '0644'\r\n  - path: /etc/crictl.yaml\r\n    content: |\r\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\r\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\r\n    permissions: '0644'\r\n  - path: /etc/containerd/config.toml\r\n    content: |\r\n      version = 2\r\n      [plugins]\r\n        [plugins.\"io.containerd.grpc.v1.cri\"]\r\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\r\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\r\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\r\n                runtime_type = \"io.containerd.runc.v2\"\r\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\r\n                  SystemdCgroup = true\r\n    permissions: '0644'\r\n\r\nusers:\r\n  - name: \"root\"\r\n    hashed_passwd: \"$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.\"\r\n    lock_passwd: false\r\n    groups: [ sudo ]\r\n    shell: \"/bin/bash\"\r\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\r\n    ssh_authorized_keys:\r\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n\r\n\r\nruncmd:\r\n  - hostnamectl set-hostname master-0\r\n  - systemctl start qemu-guest-agent\r\n  - systemctl enable docker\r\n  - systemctl start docker\r\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\r\n  - mkdir -p -m 755 /etc/apt/keyrings\r\n  - curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\r\n  - echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\r\n  - apt-get update\r\n  - apt-get install -y kubelet kubeadm kubectl\r\n  - curl -L https://github.com/projectcalico/calico/releases/download/v3.29.1/calicoctl-linux-amd64 -o /usr/local/bin/calicoctl\r\n  - chmod +x /usr/local/bin/calicoctl\r\n  - kubeadm init --pod-network-cidr=192.168.0.0/16\r\n  - export KUBECONFIG=/etc/kubernetes/admin.conf\r\n  - kubectl apply -f https://docs.projectcalico.org/manifests/calico.yaml\r\n  - mkdir -p /root/.kube\r\n  - cp /etc/kubernetes/admin.conf /root/.kube/config\r\n  - chown $(id -u):$(id -g) /root/.kube/config\r\n  - kubeadm token create --ttl 0 --print-join-command \u003e /joincluster.sh\r\n  - reboot\r\n",
            "content_base64": null,
            "content_base64sha256": "VgcG51k0BdbekzWLCfyyEVUtGL8pl5hv58272IbO/DU=",
            "content_base64sha512": "kOe8Mfz+q9LkpJxjQFKp1elkqNDQltzyqsf4939J78prPGn3aaAEGBwjjzDELBAe4hzeUcUr3awFVr5EX3uBVw==",
            "content_md5": "742dfebf3bf98e08ff81d08273cd4979",
            "content_sha1": "058d9eeaf491d8f338222b175b84caf2a3b19cee",
            "content_sha256": "560706e7593405d6de93358b09fcb211552d18bf2997986fe7cdbbd886cefc35",
            "content_sha512": "90e7bc31fcfeabd2e4a49c634052a9d5e964a8d0d096dcf2aac7f8f77f49efca6b3c69f769a004181c238f30c42c101ee21cde51c52bddac0556be445f7b8157",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./cloud-init-config/user_data_cloud_init_master-0.cfg",
            "id": "058d9eeaf491d8f338222b175b84caf2a3b19cee",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "dependencies": [
            "module.vms.data.template_file.cloud_init"
          ]
        },
        {
          "index_key": "nfs-0",
          "schema_version": 0,
          "attributes": {
            "content": "#cloud-config\n\npackage_update: true\npackage_upgrade: true\npackages:\n  - qemu-guest-agent\n  - apt-transport-https\n  - ca-certificates\n  - curl\n  - gnupg\n  - lsb-release\n  - docker.io\n\nwrite_files:\n  - path: /etc/docker/daemon.json\n    permissions: '0644'\n    content: |\n      {\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\n        \"log-driver\": \"json-file\",\n        \"log-opts\": {\n          \"max-size\": \"100m\"\n        },\n        \"storage-driver\": \"overlay2\"\n      }\n  - path: /root/.ssh/id_ed25519\n    permissions: '0600'\n    content: |\n      -----BEGIN OPENSSH PRIVATE KEY-----\n      b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW\n      QyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9NwAAAJAb1g0eG9YN\n      HgAAAAtzc2gtZWQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9Nw\n      AAAEAiV5xpCJZyzly1Abcz8nW/yHfqJEMOgu0Q5Dbt+OBfYspcsjWM2kGvpnoxiUF0wH5d\n      ePYHD46VFp2dNiheXH03AAAACHJvb3RAcHZlAQIDBAU=\n      -----END OPENSSH PRIVATE KEY-----\n      \n  - path: /etc/crictl.yaml\n    content: |\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\n    permissions: '0644'\n  - path: /etc/containerd/config.toml\n    content: |\n      version = 2\n      [plugins]\n        [plugins.\"io.containerd.grpc.v1.cri\"]\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n                runtime_type = \"io.containerd.runc.v2\"\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n                  SystemdCgroup = true\n    permissions: '0644'\n\nusers:\n  - name: \"root\"\n    hashed_passwd: \"$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.\"\n    lock_passwd: false\n    groups: [ sudo ]\n    shell: \"/bin/bash\"\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n\n\nruncmd:\n  - hostnamectl set-hostname nfs-0\n  - systemctl start qemu-guest-agent\n  - systemctl enable docker\n  - systemctl start docker\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n  - mkdir -p -m 755 /etc/apt/keyrings\n  - reboot\n",
            "content_base64": null,
            "content_base64sha256": "i1gKIPGa1rfJQbhsJPtYFfKqhlbZ7vyAwGcVzrHmNx4=",
            "content_base64sha512": "RR6rHklhbvWEl4WZ+GgccwrALZyBSRETP9lMjpRV5iUAmu8nGbGpggoS3SUzecjZw0KDyAXBbroWVIVehcKztg==",
            "content_md5": "c2227aed63fa7a499330d06e9cd43a0f",
            "content_sha1": "cd17b3d522399f34016313577c224f1fc96156ad",
            "content_sha256": "8b580a20f19ad6b7c941b86c24fb5815f2aa8656d9eefc80c06715ceb1e6371e",
            "content_sha512": "451eab1e49616ef584978599f8681c730ac02d9c814911133fd94c8e9455e625009aef2719b1a9820a12dd253379c8d9c34283c805c16eba1654855e85c2b3b6",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./cloud-init-config/user_data_cloud_init_nfs-0.cfg",
            "id": "cd17b3d522399f34016313577c224f1fc96156ad",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "dependencies": [
            "module.vms.data.template_file.cloud_init"
          ]
        },
        {
          "index_key": "worker-0",
          "schema_version": 0,
          "attributes": {
            "content": "#cloud-config\n\npackage_update: true\npackage_upgrade: true\npackages:\n  - qemu-guest-agent\n  - apt-transport-https\n  - ca-certificates\n  - curl\n  - gnupg\n  - lsb-release\n  - docker.io\n\nwrite_files:\n  - path: /etc/docker/daemon.json\n    permissions: '0644'\n    content: |\n      {\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\n        \"log-driver\": \"json-file\",\n        \"log-opts\": {\n          \"max-size\": \"100m\"\n        },\n        \"storage-driver\": \"overlay2\"\n      }\n  - path: /root/.ssh/id_ed25519\n    permissions: '0600'\n    content: |\n      -----BEGIN OPENSSH PRIVATE KEY-----\n      b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW\n      QyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9NwAAAJAb1g0eG9YN\n      HgAAAAtzc2gtZWQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9Nw\n      AAAEAiV5xpCJZyzly1Abcz8nW/yHfqJEMOgu0Q5Dbt+OBfYspcsjWM2kGvpnoxiUF0wH5d\n      ePYHD46VFp2dNiheXH03AAAACHJvb3RAcHZlAQIDBAU=\n      -----END OPENSSH PRIVATE KEY-----\n      \n  - path: /etc/crictl.yaml\n    content: |\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\n    permissions: '0644'\n  - path: /etc/containerd/config.toml\n    content: |\n      version = 2\n      [plugins]\n        [plugins.\"io.containerd.grpc.v1.cri\"]\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n                runtime_type = \"io.containerd.runc.v2\"\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n                  SystemdCgroup = true\n    permissions: '0644'\n\nusers:\n  - name: \"root\"\n    hashed_passwd: \"$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.\"\n    lock_passwd: false\n    groups: [ sudo ]\n    shell: \"/bin/bash\"\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n\n\nruncmd:\n  - hostnamectl set-hostname worker-0\n  - systemctl start qemu-guest-agent\n  - systemctl enable docker\n  - systemctl start docker\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n  - mkdir -p -m 755 /etc/apt/keyrings\n  - curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\n  - echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\n  - apt-get update\n  - apt-get install -y kubelet kubeadm kubectl\n  - curl -L https://github.com/projectcalico/calico/releases/download/v3.29.1/calicoctl-linux-amd64 -o /usr/local/bin/calicoctl\n  - chmod +x /usr/local/bin/calicoctl\n  - scp -o StrictHostKeyChecking=no -i /root/.ssh/id_ed25519 root@192.168.0.30:/joincluster.sh /joincluster.sh\n  - until [ -f /joincluster.sh ]; do sleep 1; done\n  - bash /joincluster.sh\n  - mkdir -p /root/.kube\n  - cp /etc/kubernetes/kubelet.conf /root/.kube/config\n  - reboot\n",
            "content_base64": null,
            "content_base64sha256": "jJyPdy2ZGho7CZwG/AD3fE08j3fPO8Of0xCvJUrA9Eo=",
            "content_base64sha512": "lPJS/BRJ7YFZLYVDomtuluPhfcTuLPK8we1JvsGMB5HjyrtYe/bFSka/jJ6CpHwSzdzjg63nizte/qWEDctOhg==",
            "content_md5": "2a30d5a693cd40bc6fd7c1b08b579e97",
            "content_sha1": "f8d906a69f067eb84474ee484aa06ccddb8d9cdb",
            "content_sha256": "8c9c8f772d991a1a3b099c06fc00f77c4d3c8f77cf3bc39fd310af254ac0f44a",
            "content_sha512": "94f252fc1449ed81592d8543a26b6e96e3e17dc4ee2cf2bcc1ed49bec18c0791e3cabb587bf6c54a46bf8c9e82a47c12cddce383ade78b3b5efea5840dcb4e86",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./cloud-init-config/user_data_cloud_init_worker-0.cfg",
            "id": "f8d906a69f067eb84474ee484aa06ccddb8d9cdb",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "dependencies": [
            "module.vms.data.template_file.cloud_init"
          ]
        },
        {
          "index_key": "worker-1",
          "schema_version": 0,
          "attributes": {
            "content": "#cloud-config\n\npackage_update: true\npackage_upgrade: true\npackages:\n  - qemu-guest-agent\n  - apt-transport-https\n  - ca-certificates\n  - curl\n  - gnupg\n  - lsb-release\n  - docker.io\n\nwrite_files:\n  - path: /etc/docker/daemon.json\n    permissions: '0644'\n    content: |\n      {\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\n        \"log-driver\": \"json-file\",\n        \"log-opts\": {\n          \"max-size\": \"100m\"\n        },\n        \"storage-driver\": \"overlay2\"\n      }\n  - path: /root/.ssh/id_ed25519\n    permissions: '0600'\n    content: |\n      -----BEGIN OPENSSH PRIVATE KEY-----\n      b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW\n      QyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9NwAAAJAb1g0eG9YN\n      HgAAAAtzc2gtZWQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9Nw\n      AAAEAiV5xpCJZyzly1Abcz8nW/yHfqJEMOgu0Q5Dbt+OBfYspcsjWM2kGvpnoxiUF0wH5d\n      ePYHD46VFp2dNiheXH03AAAACHJvb3RAcHZlAQIDBAU=\n      -----END OPENSSH PRIVATE KEY-----\n      \n  - path: /etc/crictl.yaml\n    content: |\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\n    permissions: '0644'\n  - path: /etc/containerd/config.toml\n    content: |\n      version = 2\n      [plugins]\n        [plugins.\"io.containerd.grpc.v1.cri\"]\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n                runtime_type = \"io.containerd.runc.v2\"\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n                  SystemdCgroup = true\n    permissions: '0644'\n\nusers:\n  - name: \"root\"\n    hashed_passwd: \"$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.\"\n    lock_passwd: false\n    groups: [ sudo ]\n    shell: \"/bin/bash\"\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n\n\nruncmd:\n  - hostnamectl set-hostname worker-1\n  - systemctl start qemu-guest-agent\n  - systemctl enable docker\n  - systemctl start docker\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n  - mkdir -p -m 755 /etc/apt/keyrings\n  - curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\n  - echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\n  - apt-get update\n  - apt-get install -y kubelet kubeadm kubectl\n  - curl -L https://github.com/projectcalico/calico/releases/download/v3.29.1/calicoctl-linux-amd64 -o /usr/local/bin/calicoctl\n  - chmod +x /usr/local/bin/calicoctl\n  - scp -o StrictHostKeyChecking=no -i /root/.ssh/id_ed25519 root@192.168.0.30:/joincluster.sh /joincluster.sh\n  - until [ -f /joincluster.sh ]; do sleep 1; done\n  - bash /joincluster.sh\n  - mkdir -p /root/.kube\n  - cp /etc/kubernetes/kubelet.conf /root/.kube/config\n  - reboot\n",
            "content_base64": null,
            "content_base64sha256": "UenumUicYX9TClOVbg6TKZMRE4kTHaDUWB4Iv49r6d0=",
            "content_base64sha512": "mMp8FWCVL5g/LfVDWicfZyZNMgNY7ViVqM6nZ6Xeq2MxWykMQcSlLcxxQM4KD79paCi/IM8anpBZ4vJmNNdmZg==",
            "content_md5": "b7d965da607c0b429d94b240e1b1d3f1",
            "content_sha1": "430c9fc2dd39c62357411c1b2d9055a795e2ff36",
            "content_sha256": "51e9ee99489c617f530a53956e0e932993111389131da0d4581e08bf8f6be9dd",
            "content_sha512": "98ca7c1560952f983f2df5435a271f67264d320358ed5895a8cea767a5deab63315b290c41c4a52dcc7140ce0a0fbf696828bf20cf1a9e9059e2f26634d76666",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./cloud-init-config/user_data_cloud_init_worker-1.cfg",
            "id": "430c9fc2dd39c62357411c1b2d9055a795e2ff36",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "dependencies": [
            "module.vms.data.template_file.cloud_init"
          ]
        },
        {
          "index_key": "worker-2",
          "schema_version": 0,
          "attributes": {
            "content": "#cloud-config\n\npackage_update: true\npackage_upgrade: true\npackages:\n  - qemu-guest-agent\n  - apt-transport-https\n  - ca-certificates\n  - curl\n  - gnupg\n  - lsb-release\n  - docker.io\n\nwrite_files:\n  - path: /etc/docker/daemon.json\n    permissions: '0644'\n    content: |\n      {\n        \"exec-opts\": [\"native.cgroupdriver=systemd\"],\n        \"log-driver\": \"json-file\",\n        \"log-opts\": {\n          \"max-size\": \"100m\"\n        },\n        \"storage-driver\": \"overlay2\"\n      }\n  - path: /root/.ssh/id_ed25519\n    permissions: '0600'\n    content: |\n      -----BEGIN OPENSSH PRIVATE KEY-----\n      b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW\n      QyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9NwAAAJAb1g0eG9YN\n      HgAAAAtzc2gtZWQyNTUxOQAAACDKXLI1jNpBr6Z6MYlBdMB+XXj2Bw+OlRadnTYoXlx9Nw\n      AAAEAiV5xpCJZyzly1Abcz8nW/yHfqJEMOgu0Q5Dbt+OBfYspcsjWM2kGvpnoxiUF0wH5d\n      ePYHD46VFp2dNiheXH03AAAACHJvb3RAcHZlAQIDBAU=\n      -----END OPENSSH PRIVATE KEY-----\n      \n  - path: /etc/crictl.yaml\n    content: |\n      runtime-endpoint: \"unix:///run/containerd/containerd.sock\"\n      image-endpoint: \"unix:///run/containerd/containerd.sock\"\n    permissions: '0644'\n  - path: /etc/containerd/config.toml\n    content: |\n      version = 2\n      [plugins]\n        [plugins.\"io.containerd.grpc.v1.cri\"]\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\n              [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n                runtime_type = \"io.containerd.runc.v2\"\n                [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n                  SystemdCgroup = true\n    permissions: '0644'\n\nusers:\n  - name: \"root\"\n    hashed_passwd: \"$6$rounds=4096$9lpDxZAiTz/cq$SGNCAiQ9HM6cpE6Xs9IXt7P1uLahnDscO3Y1tF9rcHM67QPoz6uKCrDjowGNs1hjjLJjqaFBalWw1cqH25smi.\"\n    lock_passwd: false\n    groups: [ sudo ]\n    shell: \"/bin/bash\"\n    sudo: \"ALL=(ALL) NOPASSWD:ALL\"\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMpcsjWM2kGvpnoxiUF0wH5dePYHD46VFp2dNiheXH03 root@pve\n\n\nruncmd:\n  - hostnamectl set-hostname worker-2\n  - systemctl start qemu-guest-agent\n  - systemctl enable docker\n  - systemctl start docker\n  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n  - mkdir -p -m 755 /etc/apt/keyrings\n  - curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\n  - echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\n  - apt-get update\n  - apt-get install -y kubelet kubeadm kubectl\n  - curl -L https://github.com/projectcalico/calico/releases/download/v3.29.1/calicoctl-linux-amd64 -o /usr/local/bin/calicoctl\n  - chmod +x /usr/local/bin/calicoctl\n  - scp -o StrictHostKeyChecking=no -i /root/.ssh/id_ed25519 root@192.168.0.30:/joincluster.sh /joincluster.sh\n  - until [ -f /joincluster.sh ]; do sleep 1; done\n  - bash /joincluster.sh\n  - mkdir -p /root/.kube\n  - cp /etc/kubernetes/kubelet.conf /root/.kube/config\n  - reboot\n",
            "content_base64": null,
            "content_base64sha256": "OZ9PZtogjrIVi2z5l8Jt462PHuGwZna8dqpA92JSHDo=",
            "content_base64sha512": "MoRfbsE8VGzx3ATLtfUSZnYICf4F4302v8zgwlDV7zZxov5U0JGQnRlKcoabh3/aQewcq70UOcEiLJFhYgypPg==",
            "content_md5": "6629492b5648d953fa26ac7d57cde279",
            "content_sha1": "5ed7c7d73e24a3d968579a9ebf21f8edc7a9c670",
            "content_sha256": "399f4f66da208eb2158b6cf997c26de3ad8f1ee1b06676bc76aa40f762521c3a",
            "content_sha512": "32845f6ec13c546cf1dc04cbb5f51266760809fe05e37d36bfcce0c250d5ef3671a2fe54d091909d194a72869b877fda41ec1cabbd1439c1222c9161620ca93e",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./cloud-init-config/user_data_cloud_init_worker-2.cfg",
            "id": "5ed7c7d73e24a3d968579a9ebf21f8edc7a9c670",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "dependencies": [
            "module.vms.data.template_file.cloud_init"
          ]
        }
      ]
    },
    {
      "module": "module.vms",
      "mode": "managed",
      "type": "null_resource",
      "name": "cloud_init",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": "master-0",
          "schema_version": 0,
          "attributes": {
            "id": "1199656232881698040",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.vms.data.template_file.cloud_init",
            "module.vms.local_file.cloud_init"
          ]
        },
        {
          "index_key": "nfs-0",
          "schema_version": 0,
          "attributes": {
            "id": "8389598869034062144",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.vms.data.template_file.cloud_init",
            "module.vms.local_file.cloud_init"
          ]
        },
        {
          "index_key": "worker-0",
          "schema_version": 0,
          "attributes": {
            "id": "1456004294975773258",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.vms.data.template_file.cloud_init",
            "module.vms.local_file.cloud_init"
          ]
        },
        {
          "index_key": "worker-1",
          "schema_version": 0,
          "attributes": {
            "id": "7222030685108533353",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.vms.data.template_file.cloud_init",
            "module.vms.local_file.cloud_init"
          ]
        },
        {
          "index_key": "worker-2",
          "schema_version": 0,
          "attributes": {
            "id": "8200229253481329329",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.vms.data.template_file.cloud_init",
            "module.vms.local_file.cloud_init"
          ]
        }
      ]
    },
    {
      "module": "module.vms",
      "mode": "managed",
      "type": "proxmox_vm_qemu",
      "name": "vms",
      "provider": "module.vms.provider[\"registry.terraform.io/telmate/proxmox\"]",
      "instances": [
        {
          "index_key": "master-0",
          "schema_version": 0,
          "attributes": {
            "additional_wait": 5,
            "agent": 1,
            "args": "",
            "automatic_reboot": true,
            "balloon": 0,
            "bios": "seabios",
            "boot": "c",
            "bootdisk": "scsi0",
            "bridge": null,
            "ci_wait": null,
            "cicustom": "user=nvme:snippets/cloud_init_master-0.yaml",
            "cipassword": "",
            "ciuser": "root",
            "clone": "ubuntu-cloud",
            "clone_wait": 10,
            "cloudinit_cdrom_storage": "nvme",
            "cores": 3,
            "cpu": "host",
            "default_ipv4_address": "192.168.0.30",
            "define_connection_info": true,
            "desc": "",
            "disk": [],
            "disk_gb": null,
            "disks": [
              {
                "ide": [],
                "sata": [],
                "scsi": [
                  {
                    "scsi0": [
                      {
                        "cdrom": [],
                        "disk": [
                          {
                            "asyncio": "",
                            "backup": true,
                            "cache": "",
                            "discard": false,
                            "emulatessd": true,
                            "format": "raw",
                            "id": 0,
                            "iops_r_burst": 0,
                            "iops_r_burst_length": 0,
                            "iops_r_concurrent": 0,
                            "iops_wr_burst": 0,
                            "iops_wr_burst_length": 0,
                            "iops_wr_concurrent": 0,
                            "iothread": false,
                            "linked_disk_id": -1,
                            "mbps_r_burst": 0,
                            "mbps_r_concurrent": 0,
                            "mbps_wr_burst": 0,
                            "mbps_wr_concurrent": 0,
                            "readonly": false,
                            "replicate": false,
                            "serial": "",
                            "size": 20,
                            "storage": "nvme",
                            "wwn": ""
                          }
                        ],
                        "passthrough": []
                      }
                    ],
                    "scsi1": [],
                    "scsi10": [],
                    "scsi11": [],
                    "scsi12": [],
                    "scsi13": [],
                    "scsi14": [],
                    "scsi15": [],
                    "scsi16": [],
                    "scsi17": [],
                    "scsi18": [],
                    "scsi19": [],
                    "scsi2": [],
                    "scsi20": [],
                    "scsi21": [],
                    "scsi22": [],
                    "scsi23": [],
                    "scsi24": [],
                    "scsi25": [],
                    "scsi26": [],
                    "scsi27": [],
                    "scsi28": [],
                    "scsi29": [],
                    "scsi3": [],
                    "scsi30": [],
                    "scsi4": [],
                    "scsi5": [],
                    "scsi6": [],
                    "scsi7": [],
                    "scsi8": [],
                    "scsi9": []
                  }
                ],
                "virtio": []
              }
            ],
            "efidisk": [],
            "force_create": false,
            "force_recreate_on_change_of": null,
            "full_clone": true,
            "guest_agent_ready_timeout": 100,
            "hagroup": "",
            "hastate": "",
            "hostpci": [],
            "hotplug": "network,disk,usb",
            "id": "pve1/qemu/104",
            "ipconfig0": "ip=192.168.0.30/24,gw=192.168.0.1",
            "ipconfig1": "",
            "ipconfig10": "",
            "ipconfig11": "",
            "ipconfig12": "",
            "ipconfig13": "",
            "ipconfig14": "",
            "ipconfig15": "",
            "ipconfig2": "",
            "ipconfig3": "",
            "ipconfig4": "",
            "ipconfig5": "",
            "ipconfig6": "",
            "ipconfig7": "",
            "ipconfig8": "",
            "ipconfig9": "",
            "iso": "",
            "kvm": true,
            "linked_vmid": 0,
            "mac": null,
            "machine": "",
            "memory": 6144,
            "name": "master-0",
            "nameserver": "",
            "network": [
              {
                "bridge": "vmbr0",
                "firewall": false,
                "link_down": false,
                "macaddr": "2A:51:04:1B:B0:71",
                "model": "virtio",
                "mtu": 0,
                "queues": 0,
                "rate": 0,
                "tag": -1
              }
            ],
            "nic": null,
            "numa": false,
            "onboot": true,
            "oncreate": false,
            "os_network_config": null,
            "os_type": "cloud-init",
            "pool": "",
            "preprovision": true,
            "pxe": null,
            "qemu_os": "l26",
            "reboot_required": false,
            "scsihw": "virtio-scsi-single",
            "searchdomain": "",
            "serial": [],
            "smbios": [
              {
                "family": "",
                "manufacturer": "",
                "product": "",
                "serial": "",
                "sku": "",
                "uuid": "8d3a0ebf-352a-4882-b12c-9aac01718fc0",
                "version": ""
              }
            ],
            "sockets": 1,
            "ssh_forward_ip": null,
            "ssh_host": "192.168.0.30",
            "ssh_port": "22",
            "ssh_private_key": null,
            "ssh_user": null,
            "sshkeys": "  ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBjvENWo/NJ0+qQSGIffxcAJmtZE4K03JzB59xC1mtGQ root@pve\n\n",
            "startup": "",
            "storage": null,
            "storage_type": null,
            "tablet": true,
            "tags": "",
            "target_node": "pve1",
            "target_nodes": null,
            "timeouts": null,
            "unused_disk": [],
            "usb": [],
            "vcpus": 0,
            "vga": [],
            "vlan": -1,
            "vm_state": "running",
            "vmid": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "cipassword"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "ssh_private_key"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWZhdWx0IjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        },
        {
          "index_key": "nfs-0",
          "schema_version": 0,
          "attributes": {
            "additional_wait": 5,
            "agent": 1,
            "args": "",
            "automatic_reboot": true,
            "balloon": 0,
            "bios": "seabios",
            "boot": "c",
            "bootdisk": "scsi0",
            "bridge": null,
            "ci_wait": null,
            "cicustom": "user=nvme:snippets/cloud_init_nfs-0.yaml",
            "cipassword": "",
            "ciuser": "root",
            "clone": "ubuntu-cloud",
            "clone_wait": 10,
            "cloudinit_cdrom_storage": "nvme",
            "cores": 3,
            "cpu": "host",
            "default_ipv4_address": "192.168.0.60",
            "define_connection_info": true,
            "desc": "",
            "disk": [],
            "disk_gb": null,
            "disks": [
              {
                "ide": [],
                "sata": [],
                "scsi": [
                  {
                    "scsi0": [
                      {
                        "cdrom": [],
                        "disk": [
                          {
                            "asyncio": "",
                            "backup": true,
                            "cache": "",
                            "discard": false,
                            "emulatessd": true,
                            "format": "raw",
                            "id": 0,
                            "iops_r_burst": 0,
                            "iops_r_burst_length": 0,
                            "iops_r_concurrent": 0,
                            "iops_wr_burst": 0,
                            "iops_wr_burst_length": 0,
                            "iops_wr_concurrent": 0,
                            "iothread": false,
                            "linked_disk_id": -1,
                            "mbps_r_burst": 0,
                            "mbps_r_concurrent": 0,
                            "mbps_wr_burst": 0,
                            "mbps_wr_concurrent": 0,
                            "readonly": false,
                            "replicate": false,
                            "serial": "",
                            "size": 20,
                            "storage": "nvme",
                            "wwn": ""
                          }
                        ],
                        "passthrough": []
                      }
                    ],
                    "scsi1": [],
                    "scsi10": [],
                    "scsi11": [],
                    "scsi12": [],
                    "scsi13": [],
                    "scsi14": [],
                    "scsi15": [],
                    "scsi16": [],
                    "scsi17": [],
                    "scsi18": [],
                    "scsi19": [],
                    "scsi2": [],
                    "scsi20": [],
                    "scsi21": [],
                    "scsi22": [],
                    "scsi23": [],
                    "scsi24": [],
                    "scsi25": [],
                    "scsi26": [],
                    "scsi27": [],
                    "scsi28": [],
                    "scsi29": [],
                    "scsi3": [],
                    "scsi30": [],
                    "scsi4": [],
                    "scsi5": [],
                    "scsi6": [],
                    "scsi7": [],
                    "scsi8": [],
                    "scsi9": []
                  }
                ],
                "virtio": []
              }
            ],
            "efidisk": [],
            "force_create": false,
            "force_recreate_on_change_of": null,
            "full_clone": true,
            "guest_agent_ready_timeout": 100,
            "hagroup": "",
            "hastate": "",
            "hostpci": [],
            "hotplug": "network,disk,usb",
            "id": "pve5/qemu/103",
            "ipconfig0": "ip=192.168.0.60/24,gw=192.168.0.1",
            "ipconfig1": "",
            "ipconfig10": "",
            "ipconfig11": "",
            "ipconfig12": "",
            "ipconfig13": "",
            "ipconfig14": "",
            "ipconfig15": "",
            "ipconfig2": "",
            "ipconfig3": "",
            "ipconfig4": "",
            "ipconfig5": "",
            "ipconfig6": "",
            "ipconfig7": "",
            "ipconfig8": "",
            "ipconfig9": "",
            "iso": "",
            "kvm": true,
            "linked_vmid": 0,
            "mac": null,
            "machine": "",
            "memory": 6144,
            "name": "nfs-0",
            "nameserver": "",
            "network": [
              {
                "bridge": "vmbr0",
                "firewall": false,
                "link_down": false,
                "macaddr": "C6:35:1A:E3:2A:08",
                "model": "virtio",
                "mtu": 0,
                "queues": 0,
                "rate": 0,
                "tag": -1
              }
            ],
            "nic": null,
            "numa": false,
            "onboot": true,
            "oncreate": false,
            "os_network_config": null,
            "os_type": "cloud-init",
            "pool": "",
            "preprovision": true,
            "pxe": null,
            "qemu_os": "l26",
            "reboot_required": false,
            "scsihw": "virtio-scsi-single",
            "searchdomain": "",
            "serial": [],
            "smbios": [
              {
                "family": "",
                "manufacturer": "",
                "product": "",
                "serial": "",
                "sku": "",
                "uuid": "07590ea3-e58f-4bd0-82a7-0807eef601c7",
                "version": ""
              }
            ],
            "sockets": 1,
            "ssh_forward_ip": null,
            "ssh_host": "192.168.0.60",
            "ssh_port": "22",
            "ssh_private_key": null,
            "ssh_user": null,
            "sshkeys": "  ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBjvENWo/NJ0+qQSGIffxcAJmtZE4K03JzB59xC1mtGQ root@pve\n\n",
            "startup": "",
            "storage": null,
            "storage_type": null,
            "tablet": true,
            "tags": "",
            "target_node": "pve5",
            "target_nodes": null,
            "timeouts": null,
            "unused_disk": [],
            "usb": [],
            "vcpus": 0,
            "vga": [],
            "vlan": -1,
            "vm_state": "running",
            "vmid": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "cipassword"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "ssh_private_key"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWZhdWx0IjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        },
        {
          "index_key": "worker-0",
          "schema_version": 0,
          "attributes": {
            "additional_wait": 5,
            "agent": 1,
            "args": "",
            "automatic_reboot": true,
            "balloon": 0,
            "bios": "seabios",
            "boot": "c",
            "bootdisk": "scsi0",
            "bridge": null,
            "ci_wait": null,
            "cicustom": "user=nvme:snippets/cloud_init_worker-0.yaml",
            "cipassword": "",
            "ciuser": "root",
            "clone": "ubuntu-cloud",
            "clone_wait": 10,
            "cloudinit_cdrom_storage": "nvme",
            "cores": 3,
            "cpu": "host",
            "default_ipv4_address": "192.168.0.40",
            "define_connection_info": true,
            "desc": "",
            "disk": [],
            "disk_gb": null,
            "disks": [
              {
                "ide": [],
                "sata": [],
                "scsi": [
                  {
                    "scsi0": [
                      {
                        "cdrom": [],
                        "disk": [
                          {
                            "asyncio": "",
                            "backup": true,
                            "cache": "",
                            "discard": false,
                            "emulatessd": true,
                            "format": "raw",
                            "id": 0,
                            "iops_r_burst": 0,
                            "iops_r_burst_length": 0,
                            "iops_r_concurrent": 0,
                            "iops_wr_burst": 0,
                            "iops_wr_burst_length": 0,
                            "iops_wr_concurrent": 0,
                            "iothread": false,
                            "linked_disk_id": -1,
                            "mbps_r_burst": 0,
                            "mbps_r_concurrent": 0,
                            "mbps_wr_burst": 0,
                            "mbps_wr_concurrent": 0,
                            "readonly": false,
                            "replicate": false,
                            "serial": "",
                            "size": 20,
                            "storage": "nvme",
                            "wwn": ""
                          }
                        ],
                        "passthrough": []
                      }
                    ],
                    "scsi1": [],
                    "scsi10": [],
                    "scsi11": [],
                    "scsi12": [],
                    "scsi13": [],
                    "scsi14": [],
                    "scsi15": [],
                    "scsi16": [],
                    "scsi17": [],
                    "scsi18": [],
                    "scsi19": [],
                    "scsi2": [],
                    "scsi20": [],
                    "scsi21": [],
                    "scsi22": [],
                    "scsi23": [],
                    "scsi24": [],
                    "scsi25": [],
                    "scsi26": [],
                    "scsi27": [],
                    "scsi28": [],
                    "scsi29": [],
                    "scsi3": [],
                    "scsi30": [],
                    "scsi4": [],
                    "scsi5": [],
                    "scsi6": [],
                    "scsi7": [],
                    "scsi8": [],
                    "scsi9": []
                  }
                ],
                "virtio": []
              }
            ],
            "efidisk": [],
            "force_create": false,
            "force_recreate_on_change_of": null,
            "full_clone": true,
            "guest_agent_ready_timeout": 100,
            "hagroup": "",
            "hastate": "",
            "hostpci": [],
            "hotplug": "network,disk,usb",
            "id": "pve2/qemu/100",
            "ipconfig0": "ip=192.168.0.40/24,gw=192.168.0.1",
            "ipconfig1": "",
            "ipconfig10": "",
            "ipconfig11": "",
            "ipconfig12": "",
            "ipconfig13": "",
            "ipconfig14": "",
            "ipconfig15": "",
            "ipconfig2": "",
            "ipconfig3": "",
            "ipconfig4": "",
            "ipconfig5": "",
            "ipconfig6": "",
            "ipconfig7": "",
            "ipconfig8": "",
            "ipconfig9": "",
            "iso": "",
            "kvm": true,
            "linked_vmid": 0,
            "mac": null,
            "machine": "",
            "memory": 6144,
            "name": "worker-0",
            "nameserver": "",
            "network": [
              {
                "bridge": "vmbr0",
                "firewall": false,
                "link_down": false,
                "macaddr": "6E:DE:67:4D:A6:18",
                "model": "virtio",
                "mtu": 0,
                "queues": 0,
                "rate": 0,
                "tag": -1
              }
            ],
            "nic": null,
            "numa": false,
            "onboot": true,
            "oncreate": false,
            "os_network_config": null,
            "os_type": "cloud-init",
            "pool": "",
            "preprovision": true,
            "pxe": null,
            "qemu_os": "l26",
            "reboot_required": false,
            "scsihw": "virtio-scsi-single",
            "searchdomain": "",
            "serial": [],
            "smbios": [
              {
                "family": "",
                "manufacturer": "",
                "product": "",
                "serial": "",
                "sku": "",
                "uuid": "2ca94fdd-150a-4f9b-88a7-be6fe329ea23",
                "version": ""
              }
            ],
            "sockets": 1,
            "ssh_forward_ip": null,
            "ssh_host": "192.168.0.40",
            "ssh_port": "22",
            "ssh_private_key": null,
            "ssh_user": null,
            "sshkeys": "  ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBjvENWo/NJ0+qQSGIffxcAJmtZE4K03JzB59xC1mtGQ root@pve\n\n",
            "startup": "",
            "storage": null,
            "storage_type": null,
            "tablet": true,
            "tags": "",
            "target_node": "pve2",
            "target_nodes": null,
            "timeouts": null,
            "unused_disk": [],
            "usb": [],
            "vcpus": 0,
            "vga": [],
            "vlan": -1,
            "vm_state": "running",
            "vmid": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "cipassword"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "ssh_private_key"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWZhdWx0IjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        },
        {
          "index_key": "worker-1",
          "schema_version": 0,
          "attributes": {
            "additional_wait": 5,
            "agent": 1,
            "args": "",
            "automatic_reboot": true,
            "balloon": 0,
            "bios": "seabios",
            "boot": "c",
            "bootdisk": "scsi0",
            "bridge": null,
            "ci_wait": null,
            "cicustom": "user=nvme:snippets/cloud_init_worker-1.yaml",
            "cipassword": "",
            "ciuser": "root",
            "clone": "ubuntu-cloud",
            "clone_wait": 10,
            "cloudinit_cdrom_storage": "nvme",
            "cores": 3,
            "cpu": "host",
            "default_ipv4_address": "192.168.0.41",
            "define_connection_info": true,
            "desc": "",
            "disk": [],
            "disk_gb": null,
            "disks": [
              {
                "ide": [],
                "sata": [],
                "scsi": [
                  {
                    "scsi0": [
                      {
                        "cdrom": [],
                        "disk": [
                          {
                            "asyncio": "",
                            "backup": true,
                            "cache": "",
                            "discard": false,
                            "emulatessd": true,
                            "format": "raw",
                            "id": 0,
                            "iops_r_burst": 0,
                            "iops_r_burst_length": 0,
                            "iops_r_concurrent": 0,
                            "iops_wr_burst": 0,
                            "iops_wr_burst_length": 0,
                            "iops_wr_concurrent": 0,
                            "iothread": false,
                            "linked_disk_id": -1,
                            "mbps_r_burst": 0,
                            "mbps_r_concurrent": 0,
                            "mbps_wr_burst": 0,
                            "mbps_wr_concurrent": 0,
                            "readonly": false,
                            "replicate": false,
                            "serial": "",
                            "size": 20,
                            "storage": "nvme",
                            "wwn": ""
                          }
                        ],
                        "passthrough": []
                      }
                    ],
                    "scsi1": [],
                    "scsi10": [],
                    "scsi11": [],
                    "scsi12": [],
                    "scsi13": [],
                    "scsi14": [],
                    "scsi15": [],
                    "scsi16": [],
                    "scsi17": [],
                    "scsi18": [],
                    "scsi19": [],
                    "scsi2": [],
                    "scsi20": [],
                    "scsi21": [],
                    "scsi22": [],
                    "scsi23": [],
                    "scsi24": [],
                    "scsi25": [],
                    "scsi26": [],
                    "scsi27": [],
                    "scsi28": [],
                    "scsi29": [],
                    "scsi3": [],
                    "scsi30": [],
                    "scsi4": [],
                    "scsi5": [],
                    "scsi6": [],
                    "scsi7": [],
                    "scsi8": [],
                    "scsi9": []
                  }
                ],
                "virtio": []
              }
            ],
            "efidisk": [],
            "force_create": false,
            "force_recreate_on_change_of": null,
            "full_clone": true,
            "guest_agent_ready_timeout": 100,
            "hagroup": "",
            "hastate": "",
            "hostpci": [],
            "hotplug": "network,disk,usb",
            "id": "pve3/qemu/101",
            "ipconfig0": "ip=192.168.0.41/24,gw=192.168.0.1",
            "ipconfig1": "",
            "ipconfig10": "",
            "ipconfig11": "",
            "ipconfig12": "",
            "ipconfig13": "",
            "ipconfig14": "",
            "ipconfig15": "",
            "ipconfig2": "",
            "ipconfig3": "",
            "ipconfig4": "",
            "ipconfig5": "",
            "ipconfig6": "",
            "ipconfig7": "",
            "ipconfig8": "",
            "ipconfig9": "",
            "iso": "",
            "kvm": true,
            "linked_vmid": 0,
            "mac": null,
            "machine": "",
            "memory": 6144,
            "name": "worker-1",
            "nameserver": "",
            "network": [
              {
                "bridge": "vmbr0",
                "firewall": false,
                "link_down": false,
                "macaddr": "96:DB:30:9F:FC:DB",
                "model": "virtio",
                "mtu": 0,
                "queues": 0,
                "rate": 0,
                "tag": -1
              }
            ],
            "nic": null,
            "numa": false,
            "onboot": true,
            "oncreate": false,
            "os_network_config": null,
            "os_type": "cloud-init",
            "pool": "",
            "preprovision": true,
            "pxe": null,
            "qemu_os": "l26",
            "reboot_required": false,
            "scsihw": "virtio-scsi-single",
            "searchdomain": "",
            "serial": [],
            "smbios": [
              {
                "family": "",
                "manufacturer": "",
                "product": "",
                "serial": "",
                "sku": "",
                "uuid": "27d2fae1-4147-4e7b-b27e-bcd942f3ed51",
                "version": ""
              }
            ],
            "sockets": 1,
            "ssh_forward_ip": null,
            "ssh_host": "192.168.0.41",
            "ssh_port": "22",
            "ssh_private_key": null,
            "ssh_user": null,
            "sshkeys": "  ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBjvENWo/NJ0+qQSGIffxcAJmtZE4K03JzB59xC1mtGQ root@pve\n\n",
            "startup": "",
            "storage": null,
            "storage_type": null,
            "tablet": true,
            "tags": "",
            "target_node": "pve3",
            "target_nodes": null,
            "timeouts": null,
            "unused_disk": [],
            "usb": [],
            "vcpus": 0,
            "vga": [],
            "vlan": -1,
            "vm_state": "running",
            "vmid": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "ssh_private_key"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "cipassword"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWZhdWx0IjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        },
        {
          "index_key": "worker-2",
          "schema_version": 0,
          "attributes": {
            "additional_wait": 5,
            "agent": 1,
            "args": "",
            "automatic_reboot": true,
            "balloon": 0,
            "bios": "seabios",
            "boot": "c",
            "bootdisk": "scsi0",
            "bridge": null,
            "ci_wait": null,
            "cicustom": "user=nvme:snippets/cloud_init_worker-2.yaml",
            "cipassword": "",
            "ciuser": "root",
            "clone": "ubuntu-cloud",
            "clone_wait": 10,
            "cloudinit_cdrom_storage": "nvme",
            "cores": 3,
            "cpu": "host",
            "default_ipv4_address": "192.168.0.42",
            "define_connection_info": true,
            "desc": "",
            "disk": [],
            "disk_gb": null,
            "disks": [
              {
                "ide": [],
                "sata": [],
                "scsi": [
                  {
                    "scsi0": [
                      {
                        "cdrom": [],
                        "disk": [
                          {
                            "asyncio": "",
                            "backup": true,
                            "cache": "",
                            "discard": false,
                            "emulatessd": true,
                            "format": "raw",
                            "id": 0,
                            "iops_r_burst": 0,
                            "iops_r_burst_length": 0,
                            "iops_r_concurrent": 0,
                            "iops_wr_burst": 0,
                            "iops_wr_burst_length": 0,
                            "iops_wr_concurrent": 0,
                            "iothread": false,
                            "linked_disk_id": -1,
                            "mbps_r_burst": 0,
                            "mbps_r_concurrent": 0,
                            "mbps_wr_burst": 0,
                            "mbps_wr_concurrent": 0,
                            "readonly": false,
                            "replicate": false,
                            "serial": "",
                            "size": 20,
                            "storage": "nvme",
                            "wwn": ""
                          }
                        ],
                        "passthrough": []
                      }
                    ],
                    "scsi1": [],
                    "scsi10": [],
                    "scsi11": [],
                    "scsi12": [],
                    "scsi13": [],
                    "scsi14": [],
                    "scsi15": [],
                    "scsi16": [],
                    "scsi17": [],
                    "scsi18": [],
                    "scsi19": [],
                    "scsi2": [],
                    "scsi20": [],
                    "scsi21": [],
                    "scsi22": [],
                    "scsi23": [],
                    "scsi24": [],
                    "scsi25": [],
                    "scsi26": [],
                    "scsi27": [],
                    "scsi28": [],
                    "scsi29": [],
                    "scsi3": [],
                    "scsi30": [],
                    "scsi4": [],
                    "scsi5": [],
                    "scsi6": [],
                    "scsi7": [],
                    "scsi8": [],
                    "scsi9": []
                  }
                ],
                "virtio": []
              }
            ],
            "efidisk": [],
            "force_create": false,
            "force_recreate_on_change_of": null,
            "full_clone": true,
            "guest_agent_ready_timeout": 100,
            "hagroup": "",
            "hastate": "",
            "hostpci": [],
            "hotplug": "network,disk,usb",
            "id": "pve4/qemu/102",
            "ipconfig0": "ip=192.168.0.42/24,gw=192.168.0.1",
            "ipconfig1": "",
            "ipconfig10": "",
            "ipconfig11": "",
            "ipconfig12": "",
            "ipconfig13": "",
            "ipconfig14": "",
            "ipconfig15": "",
            "ipconfig2": "",
            "ipconfig3": "",
            "ipconfig4": "",
            "ipconfig5": "",
            "ipconfig6": "",
            "ipconfig7": "",
            "ipconfig8": "",
            "ipconfig9": "",
            "iso": "",
            "kvm": true,
            "linked_vmid": 0,
            "mac": null,
            "machine": "",
            "memory": 6144,
            "name": "worker-2",
            "nameserver": "",
            "network": [
              {
                "bridge": "vmbr0",
                "firewall": false,
                "link_down": false,
                "macaddr": "A6:73:68:07:C5:D9",
                "model": "virtio",
                "mtu": 0,
                "queues": 0,
                "rate": 0,
                "tag": -1
              }
            ],
            "nic": null,
            "numa": false,
            "onboot": true,
            "oncreate": false,
            "os_network_config": null,
            "os_type": "cloud-init",
            "pool": "",
            "preprovision": true,
            "pxe": null,
            "qemu_os": "l26",
            "reboot_required": false,
            "scsihw": "virtio-scsi-single",
            "searchdomain": "",
            "serial": [],
            "smbios": [
              {
                "family": "",
                "manufacturer": "",
                "product": "",
                "serial": "",
                "sku": "",
                "uuid": "d59f1e8c-34ec-496d-bd92-93c9036fa090",
                "version": ""
              }
            ],
            "sockets": 1,
            "ssh_forward_ip": null,
            "ssh_host": "192.168.0.42",
            "ssh_port": "22",
            "ssh_private_key": null,
            "ssh_user": null,
            "sshkeys": "  ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBjvENWo/NJ0+qQSGIffxcAJmtZE4K03JzB59xC1mtGQ root@pve\n\n",
            "startup": "",
            "storage": null,
            "storage_type": null,
            "tablet": true,
            "tags": "",
            "target_node": "pve4",
            "target_nodes": null,
            "timeouts": null,
            "unused_disk": [],
            "usb": [],
            "vcpus": 0,
            "vga": [],
            "vlan": -1,
            "vm_state": "running",
            "vmid": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "cipassword"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "ssh_private_key"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWZhdWx0IjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    }
  ],
  "check_results": null
}
